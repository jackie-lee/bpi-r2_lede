Index: linux-mediatek_32/linux-4.9.44/drivers/net/usb/qmi_wwan.c
===================================================================
--- linux-4.9.44.orig/drivers/net/usb/qmi_wwan.c	2018-09-19 09:38:43.473367021 +0800
+++ linux-4.9.44/drivers/net/usb/qmi_wwan.c	2018-09-22 15:19:19.160229271 +0800
@@ -63,6 +63,28 @@
 	QMI_WWAN_QUIRK_DTR = 1 << 0,	/* needs "set DTR" request */
 };
 
+#if 1 // Added by Quectel
+#include <linux/etherdevice.h>
+struct sk_buff *qmi_wwan_tx_fixup(struct usbnet *dev, struct sk_buff *skb, gfp_t flags)
+{
+	if (dev->udev->descriptor.idVendor != cpu_to_le16(0x2C7C))
+		return skb;
+
+	// Skip Ethernet header from message
+	if (skb_pull(skb, ETH_HLEN))
+		return skb;
+	else
+		dev_err(&dev->intf->dev, "Packet Dropped");
+	
+	// Fiter the packet out, release it
+	dev_kfree_skb_any(skb);
+	return NULL;
+}
+
+#include <linux/version.h>
+
+#endif
+
 static void qmi_wwan_netdev_setup(struct net_device *net)
 {
 	struct usbnet *dev = netdev_priv(net);
@@ -442,6 +464,22 @@
 	}
 	dev->net->netdev_ops = &qmi_wwan_netdev_ops;
 	dev->net->sysfs_groups[0] = &qmi_wwan_sysfs_attr_group;
+	
+#if 1
+	if (dev->udev->descriptor.idVendor == cpu_to_le16(0x2C7C)) {
+		dev_info(&intf->dev, "Quectel EC25&EC20R2.0\n");
+		dev->net->flags != IFF_NOARP;
+		
+		usb_control_msg(
+			interface_to_usbdev(intf),
+			usb_sndctrlpipe(interface_to_usbdev(intf),0),
+			0x22, // USB_CDC_REQ_SET_CONTROL_LINE_STATE
+			0x21, // USB_DIR_OUT | USB_TYPE_CLASS | USB_RECIP_INTERFACE
+			1, // atctive CDC DTR
+			intf->cur_altsetting->desc.bInterfaceNumber,
+			NULL, 0, 100);
+	}
+#endif
 err:
 	return status;
 }
@@ -533,6 +571,9 @@
 	.unbind		= qmi_wwan_unbind,
 	.manage_power	= qmi_wwan_manage_power,
 	.rx_fixup       = qmi_wwan_rx_fixup,
+#if 1
+	.tx_fixup	= qmi_wwan_tx_fixup,
+#endif 
 };
 
 static const struct driver_info	qmi_wwan_info_quirk_dtr = {
@@ -933,6 +974,7 @@
 	{QMI_FIXED_INTF(0x22de, 0x9061, 3)},	/* WeTelecom WPD-600N */
 	{QMI_FIXED_INTF(0x1e0e, 0x9001, 5)},	/* SIMCom 7230E */
 	{QMI_QUIRK_SET_DTR(0x2c7c, 0x0121, 4)},	/* Quectel EC21 Mini PCIe */
+	{QMI_FIXED_INTF(0x2c7c, 0x0125, 4)},
 
 	/* 4. Gobi 1000 devices */
 	{QMI_GOBI1K_DEVICE(0x05c6, 0x9212)},	/* Acer Gobi Modem Device */
